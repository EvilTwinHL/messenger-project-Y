<!DOCTYPE html>
<html>
<head>
    <title>–ú—ñ–π –ú–µ—Å–µ–Ω–¥–∂–µ—Ä (Web)</title>
    <style> body { font-family: sans-serif; padding: 20px; } </style>
</head>
<body>
    <h2>üíª –ß–∞—Ç –Ω–∞ –ù–æ—É—Ç–±—É—Ü—ñ</h2>
    <div id="chat" style="height: 300px; border: 1px solid #ccc; overflow-y: scroll; padding: 10px; margin-bottom: 10px;"></div>
    <input id="msg" type="text" placeholder="–ù–∞–ø–∏—à—ñ—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è..." style="width: 70%;">
    <button onclick="send()">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();

        // –ö–æ–ª–∏ –æ—Ç—Ä–∏–º—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
        socket.on('receive_message', (data) => {
            const chat = document.getElementById('chat');
            const sender = data.sender || '–ê–Ω–æ–Ω—ñ–º';
            const text = data.text || JSON.stringify(data);
            chat.innerHTML += `<p><b>${sender}:</b> ${text}</p>`;
        });

        // –§—É–Ω–∫—Ü—ñ—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏
        function send() {
            const input = document.getElementById('msg');
            const text = input.value;
            if(text) {
                // –í—ñ–¥–ø—Ä–∞–≤–ª—è—î–º–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
                socket.emit('send_message', { text: text, sender: 'Laptop' });
                
                // –î–æ–¥–∞—î–º–æ —Å–æ–±—ñ –Ω–∞ –µ–∫—Ä–∞–Ω
                document.getElementById('chat').innerHTML += `<p><b>–Ø:</b> ${text}</p>`;
                input.value = '';
            }
        }
    </script>
</body>
</html>