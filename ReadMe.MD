# ğŸ’¬ Messenger Y

> ĞšÑ€Ğ¾ÑĞ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğ½Ğ¸Ğ¹ Ğ¼ĞµÑĞµĞ½Ğ´Ğ¶ĞµÑ€ Ñƒ ÑÑ‚Ğ¸Ğ»Ñ– Signal, Ğ¿Ğ¾Ğ±ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ğ½Ğ° Flutter + Node.js

![Version](https://img.shields.io/badge/version-2.9.7-2B5CE6?style=flat-square)
![Flutter](https://img.shields.io/badge/Flutter-3.x-54C5F8?style=flat-square&logo=flutter)
![Node.js](https://img.shields.io/badge/Node.js-20.x-339933?style=flat-square&logo=node.js)
![Firebase](https://img.shields.io/badge/Firebase-Firestore%20%2B%20Storage-FFCA28?style=flat-square&logo=firebase)
![Platform](https://img.shields.io/badge/Platform-Android%20%7C%20iOS%20%7C%20Windows-lightgrey?style=flat-square)
![Security](https://img.shields.io/badge/Auth-JWT%20%2B%20bcrypt-green?style=flat-square)

---

## ğŸ“± Ğ¡ĞºÑ€Ñ–Ğ½ÑˆĞ¾Ñ‚Ğ¸

> *(Ğ”Ğ¾Ğ´Ğ°Ğ¹ ÑĞºÑ€Ñ–Ğ½ÑˆĞ¾Ñ‚Ğ¸ Ñƒ Ğ¿Ğ°Ğ¿ĞºÑƒ `/screenshots` Ñ‚Ğ° Ñ€Ğ¾Ğ·ĞºĞ¾Ğ¼ĞµĞ½Ñ‚ÑƒĞ¹ Ğ½Ğ¸Ğ¶Ñ‡Ğµ)*

<!--
<p align="center">
  <img src="screenshots/chat.png" width="200"/>
  <img src="screenshots/home.png" width="200"/>
  <img src="screenshots/account.png" width="200"/>
</p>
-->

---

## âœ¨ Ğ¤ÑƒĞ½ĞºÑ†Ñ–Ñ— (v2.9.7)

### ğŸ”´ Ğ›Ñ–Ñ‡Ğ¸Ğ»ÑŒĞ½Ğ¸Ğº Ğ½ĞµĞ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ½Ğ¸Ñ… (Ğ½Ğ¾Ğ²Ğµ Ñƒ v2.9.7)
- **Badge Ğ½Ğ° Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ñ–** â€” Ñ‡ĞµÑ€Ğ²Ğ¾Ğ½Ğµ ĞºĞ¾Ğ»Ğ¾ Ğ· Ñ‡Ğ¸ÑĞ»Ğ¾Ğ¼ Ğ½Ğ° ĞºĞ¾Ğ¶Ğ½Ğ¾Ğ¼Ñƒ Ñ‡Ğ°Ñ‚Ñ– Ğ² HomeScreen
- **Real-time** â€” Ğ¾Ğ½Ğ¾Ğ²Ğ»ÑÑ”Ñ‚ÑŒÑÑ Ñ‡ĞµÑ€ĞµĞ· Firestore StreamBuilder Ğ¼Ğ¸Ñ‚Ñ‚Ñ”Ğ²Ğ¾
- **ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğµ ÑĞºĞ¸Ğ´Ğ°Ğ½Ğ½Ñ** â€” Ğ¿Ñ€Ğ¸ Ğ²Ñ–Ğ´ĞºÑ€Ğ¸Ñ‚Ñ‚Ñ– Ñ‡Ğ°Ñ‚Ñƒ (`mark_read`) Ğ»Ñ–Ñ‡Ğ¸Ğ»ÑŒĞ½Ğ¸Ğº â†’ 0
- **Firestore Ğ¿Ğ¾Ğ»Ğµ** `unreadCounts: { username: count }` Ñƒ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ– Ñ‡Ğ°Ñ‚Ñƒ

### ğŸ“œ ĞŸĞ°Ğ³Ñ–Ğ½Ğ°Ñ†Ñ–Ñ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ (Ğ½Ğ¾Ğ²Ğµ Ñƒ v2.9.7)
- **Infinite scroll** â€” Ğ¿Ñ€Ğ¸ ÑĞºÑ€Ğ¾Ğ»Ñ– Ğ´Ğ¾ Ğ²ĞµÑ€Ñ…Ñƒ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶Ğ¸Ñ‚ÑŒ Ñ‰Ğµ 50 Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ
- **Firebase**: `startAfterDocument` ĞºÑƒÑ€ÑĞ¾Ñ€ Ğ´Ğ»Ñ Ğ±ĞµĞ·ÑˆĞ¾Ğ²Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ–Ğ´Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ
- **Windows**: Socket Ğ¿Ğ¾Ğ´Ñ–Ñ `request_history_more` â†’ `load_history_more`
- **Ğ†Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ** â€” CircularProgressIndicator Ğ² ĞºÑ–Ğ½Ñ†Ñ– ÑĞ¿Ğ¸ÑĞºÑƒ

### ğŸ“ ĞŸĞµÑ€ĞµĞ´Ğ°Ñ‡Ğ° Ñ„Ğ°Ğ¹Ğ»Ñ–Ğ² (Ğ½Ğ¾Ğ²Ğµ Ñƒ v2.9.7)
- **ĞŸÑ–Ğ´Ñ‚Ñ€Ğ¸Ğ¼ÑƒĞ²Ğ°Ğ½Ñ– Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸**: PDF, DOCX, DOC, ZIP, TXT (Ğ´Ğ¾ 20MB)
- **FileBubble** â€” ĞºÑ€Ğ°ÑĞ¸Ğ²Ğ° Ğ±ÑƒĞ»ÑŒĞ±Ğ°ÑˆĞºĞ° Ğ· Ñ–ĞºĞ¾Ğ½ĞºĞ¾Ñ Ñ‚Ğ¸Ğ¿Ñƒ Ñ„Ğ°Ğ¹Ğ»Ñƒ Ñ‚Ğ° Ñ€Ğ¾Ğ·Ğ¼Ñ–Ñ€Ğ¾Ğ¼
- **Signal-style Ğ¼ĞµĞ½Ñ** Ğ¿Ñ€Ğ¸ Ğ½Ğ°Ñ‚Ğ¸ÑĞºĞ°Ğ½Ğ½Ñ–: "Ğ’Ñ–Ğ´ĞºÑ€Ğ¸Ñ‚Ğ¸" Ğ°Ğ±Ğ¾ "Ğ—Ğ±ĞµÑ€ĞµĞ³Ñ‚Ğ¸"
- **Ğ’Ñ–Ğ´ĞºÑ€Ğ¸Ñ‚Ğ¸** â€” Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ÑƒÑ” Ñƒ tmpDir Ñ‚Ğ° Ğ²Ñ–Ğ´ĞºÑ€Ğ¸Ğ²Ğ°Ñ” ÑĞ¸ÑÑ‚ĞµĞ¼Ğ½Ğ¸Ğ¼ Ğ¿ĞµÑ€ĞµĞ³Ğ»ÑĞ´Ğ°Ñ‡ĞµĞ¼
- **Ğ—Ğ±ĞµÑ€ĞµĞ³Ñ‚Ğ¸** â€” Ğ·Ğ±ĞµÑ€Ñ–Ğ³Ğ°Ñ” Ñƒ Ğ¿Ğ°Ğ¿ĞºÑƒ Download (Ğ²Ğ¸Ğ´Ğ½Ğ¾ Ñƒ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²Ğ¾Ğ¼Ñƒ Ğ¼ĞµĞ½ĞµĞ´Ğ¶ĞµÑ€Ñ–)
- **ĞšĞ¸Ñ€Ğ¸Ğ»Ğ¸Ñ†Ñ Ğ² Ğ½Ğ°Ğ·Ğ²Ğ°Ñ…** â€” ĞºĞ¾Ñ€ĞµĞºÑ‚Ğ½Ğµ UTF-8 Ğ´ĞµĞºĞ¾Ğ´ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ½Ğ° ÑĞµÑ€Ğ²ĞµÑ€Ñ–

### ğŸ” Ğ‘ĞµĞ·Ğ¿ĞµĞºĞ° (v2.4.3)
- ğŸ”‘ **JWT Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ** â€” access token (7Ğ´) + refresh token (30Ğ´)
- ğŸ”’ **bcrypt Ğ¿Ğ°Ñ€Ğ¾Ğ»Ñ–** â€” Ñ…ĞµÑˆÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ· rounds=12
- ğŸ›¡ï¸ **Rate limiting** â€” Ğ·Ğ°Ñ…Ğ¸ÑÑ‚ Ğ²Ñ–Ğ´ brute-force Ñ‚Ğ° DoS
- â›‘ï¸ **Helmet** â€” HTTP security headers
- âœ… **Joi Ğ²Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ** â€” Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° Ğ²Ñ…Ñ–Ğ´Ğ½Ğ¸Ñ… Ğ´Ğ°Ğ½Ğ¸Ñ…
- ğŸ” **Socket.IO auth** â€” Ğ¿Ñ–Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ñ Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ Ğ· Ğ²Ğ°Ğ»Ñ–Ğ´Ğ½Ğ¸Ğ¼ JWT

### ğŸ‘¤ ĞŸÑ€Ğ¾Ñ„Ñ–Ğ»ÑŒ Ñ‚Ğ° Ğ°ĞºĞ°ÑƒĞ½Ñ‚ (v2.6.0)
- ğŸªª **DisplayName vs Username** â€” displayName (Ğ±ÑƒĞ´ÑŒ-ÑĞºĞ° Ğ¼Ğ¾Ğ²Ğ°/ĞºĞ¸Ñ€Ğ¸Ğ»Ğ¸Ñ†Ñ), username (Latin-only)
- ğŸ“± **Account Tab (Telegram-style)** â€” Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€ Ğ· camera badge, ÑÑ‚Ğ°Ñ‚ÑƒÑ Ğ¾Ğ½Ğ»Ğ°Ğ¹Ğ½, Ñ–Ğ½Ñ„Ğ¾-ĞºĞ°Ñ€Ñ‚ĞºĞ°
- ğŸ“ **Ğ¢ĞµĞ»ĞµÑ„Ğ¾Ğ½ Ñ‚Ğ° Ğ´ĞµĞ½ÑŒ Ğ½Ğ°Ñ€Ğ¾Ğ´Ğ¶ĞµĞ½Ğ½Ñ** â€” Ğ·Ğ±ĞµÑ€ĞµĞ¶ĞµĞ½Ğ½Ñ Ğ² Firestore + Ğ²Ğ¸Ğ´Ğ¸Ğ¼Ñ–ÑÑ‚ÑŒ
- ğŸ”„ **POST /update_profile** â€” Ğ¾Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ Ğ²ÑÑ–Ñ… Ğ¿Ğ¾Ğ»Ñ–Ğ² Ğ¿Ñ€Ğ¾Ñ„Ñ–Ğ»Ñ

### âœ“ Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑĞ¸ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ (v2.6.3â€“2.6.8)
- **âœ“ sent** â€” Ğ²Ñ–Ğ´Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¾ (1 ĞºÑ€ÑƒĞ¶Ğ¾Ğº, ÑÑ–Ñ€Ğ¸Ğ¹)
- **âœ“âœ“ delivered** â€” Ğ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¾ (2 ĞºÑ€ÑƒĞ¶ĞºĞ¸, ÑĞ¸Ğ½Ñ Ğ·Ğ°Ğ»Ğ¸Ğ²ĞºĞ°)
- **âœ“âœ“ read** â€” Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ½Ğ¾ (2 ĞºÑ€ÑƒĞ¶ĞºĞ¸, ÑĞ¸Ğ½Ñ–)
- **Real-time** â€” Ğ¾Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ Ğ±ĞµĞ· Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ñ‡Ğ°Ñ‚Ñƒ
- **Signal-style CustomPainter** â€” ĞºÑ€ÑƒĞ¶ĞµÑ‡ĞºĞ¸ Ğ· Ğ³Ğ°Ğ»Ğ¾Ñ‡ĞºĞ°Ğ¼Ğ¸

### ĞŸĞ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ
- ğŸ’¬ **ĞŸÑ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ñ– Ñ‡Ğ°Ñ‚Ğ¸ (DM)** â€” Ñ€ĞµĞ°Ğ»-Ñ‚Ğ°Ğ¹Ğ¼ Ñ‡ĞµÑ€ĞµĞ· Firestore + Socket.IO
- ğŸ“· **ĞĞ°Ğ´ÑĞ¸Ğ»Ğ°Ğ½Ğ½Ñ Ñ„Ğ¾Ñ‚Ğ¾** â€” Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ñƒ Firebase Storage
- ğŸ“ **Ğ¤Ğ°Ğ¹Ğ»Ğ¸** â€” PDF, DOCX, ZIP Ğ· Signal-style Ğ¼ĞµĞ½Ñ âœ… NEW
- ğŸ¤ **Ğ“Ğ¾Ğ»Ğ¾ÑĞ¾Ğ²Ñ– Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ** â€” Ğ·Ğ°Ğ¿Ğ¸Ñ AAC + Signal-ÑÑ‚Ğ¸Ğ»ÑŒ waveform Ğ¿Ğ»ĞµÑ”Ñ€
- â†©ï¸ **Reply** â€” Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ + swipe-to-reply
- âœï¸ **Ğ ĞµĞ´Ğ°Ğ³ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ñ‚Ğ° Ğ²Ğ¸Ğ´Ğ°Ğ»ĞµĞ½Ğ½Ñ** â€” Ğ· Ğ¿Ğ¾Ğ·Ğ½Ğ°Ñ‡ĞºĞ¾Ñ "edited"
- ğŸ˜Š **Ğ ĞµĞ°ĞºÑ†Ñ–Ñ—** â€” emoji toggle
- âŒ¨ï¸ **Typing indicator** â€” Ğ°Ğ½Ñ–Ğ¼Ğ°Ñ†Ñ–Ñ Ñ‚Ñ€ÑŒĞ¾Ñ… ĞºÑ€Ğ°Ğ¿Ğ¾Ğº
- ğŸ“œ **ĞŸĞ°Ğ³Ñ–Ğ½Ğ°Ñ†Ñ–Ñ** â€” infinite scroll, Ğ±ĞµĞ·ĞºÑ–Ğ½ĞµÑ‡Ğ½Ğµ Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ âœ… NEW

### UI / UX
- ğŸ¨ **Signal Dark UI** â€” Ğ²Ğ»Ğ°ÑĞ½Ğ° Ğ´Ğ¸Ğ·Ğ°Ğ¹Ğ½-ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° `SignalColors` + `AppSizes`
- ğŸ—º **ĞŸĞ»Ğ°Ğ²Ğ°ÑÑ‡Ğ° Ğ½Ğ°Ğ²Ñ–Ğ³Ğ°Ñ†Ñ–Ñ** â€” Ğ¾Ğ²Ğ°Ğ»ÑŒĞ½Ğ° Ñ‚Ğ°Ğ±Ğ»ĞµÑ‚ĞºĞ° Ñƒ Telegram-ÑÑ‚Ğ¸Ğ»Ñ–
- ğŸ”´ **Badge Ğ½ĞµĞ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ½Ğ¸Ñ…** â€” Ğ½Ğ° Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ñ– ĞºĞ¾Ğ¶Ğ½Ğ¾Ğ³Ğ¾ Ñ‡Ğ°Ñ‚Ñƒ âœ… NEW
- ğŸ“… **Ğ Ğ¾Ğ·Ğ´Ñ–Ğ»ÑĞ²Ğ°Ñ‡Ñ– Ğ´Ğ°Ñ‚** + Scroll Date Overlay
- ğŸ“‹ **ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ½Ğµ Ğ¼ĞµĞ½Ñ** â€” blur overlay Ğ· Ñ€ĞµĞ°ĞºÑ†Ñ–ÑĞ¼Ğ¸ Ñ‚Ğ° Ğ´Ñ–ÑĞ¼Ğ¸

### Ğ¢ĞµÑ…Ğ½Ñ–Ñ‡Ğ½Ğµ
- ğŸ”” **FCM Push Notifications** â€” Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ ÑƒÑ‡Ğ°ÑĞ½Ğ¸ĞºĞ°Ğ¼ Ñ‡Ğ°Ñ‚Ñƒ
- ğŸªŸ **Windows Ğ¿Ñ–Ğ´Ñ‚Ñ€Ğ¸Ğ¼ĞºĞ°** â€” HTTP fallback + Socket.IO
- ğŸš€ **Shorebird OTA** â€” Ğ¾Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ Ğ±ĞµĞ· Ğ¿ĞµÑ€ĞµĞ²Ğ¸Ğ´Ğ°Ğ½Ğ½Ñ Ñƒ Store
- ğŸ” **ĞŸĞ¾ÑˆÑƒĞº ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ñ–Ğ²** â€” Ğ·Ğ° username Ğ°Ğ±Ğ¾ displayName

---

## ğŸ— ĞÑ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
client/                          server/
â”œâ”€â”€ lib/                         â””â”€â”€ index.js  (v2.9.7)
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ app_config.dart
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ socket_service.dart
â”‚   â”‚   â””â”€â”€ auth_service.dart
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ date_utils.dart
â”‚   â”œâ”€â”€ widgets/
â”‚   â”‚   â”œâ”€â”€ message_bubble.dart  â† FileBubble + Signal menu âœ… v2.9.7
â”‚   â”‚   â”œâ”€â”€ swipe_to_reply.dart
â”‚   â”‚   â”œâ”€â”€ typing_indicator.dart
â”‚   â”‚   â”œâ”€â”€ date_separator.dart
â”‚   â”‚   â”œâ”€â”€ reply_preview.dart
â”‚   â”‚   â””â”€â”€ reaction_widgets.dart
â”‚   â”œâ”€â”€ main.dart                â† Ğ¿Ğ°Ğ³Ñ–Ğ½Ğ°Ñ†Ñ–Ñ + _olderMessages âœ… v2.9.7
â”‚   â”œâ”€â”€ home_screen.dart         â† unreadCounts Badge âœ… v2.9.7
â”‚   â”œâ”€â”€ login_screen.dart
â”‚   â”œâ”€â”€ search_screen.dart
â”‚   â”œâ”€â”€ settings_screen.dart
â”‚   â”œâ”€â”€ signal_context_menu.dart
â”‚   â”œâ”€â”€ audio_player_widget.dart
â”‚   â”œâ”€â”€ voice_recorder.dart
â”‚   â””â”€â”€ theme.dart
â””â”€â”€ pubspec.yaml
```

---

## ğŸš€ Ğ¨Ğ²Ğ¸Ğ´ĞºĞ¸Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚

### ĞšĞ»Ñ–Ñ”Ğ½Ñ‚

```bash
git clone https://github.com/YOUR_USERNAME/messenger-y.git
cd messenger-y/client
flutter pub get
echo "SERVER_URL=https://your-server.onrender.com" > .env
flutterfire configure --platforms=android,ios
flutter run
```

### Ğ¡ĞµÑ€Ğ²ĞµÑ€

```bash
cd server
npm install
# Ğ’ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸ JWT_SECRET Ñƒ Render â†’ Environment Variables
node index.js
```

---

## âš™ï¸ Ğ—Ğ¼Ñ–Ğ½Ğ½Ñ– Ğ¾Ñ‚Ğ¾Ñ‡ĞµĞ½Ğ½Ñ

```env
# client/.env
SERVER_URL=https://your-server.onrender.com

# server (Render â†’ Environment Variables)
PORT=3000
JWT_SECRET=your_very_long_random_secret_key_here
```

---

## ğŸŒ REST API

| ĞœĞµÑ‚Ğ¾Ğ´ | Ğ•Ğ½Ğ´Ğ¿Ğ¾Ñ–Ğ½Ñ‚ | Auth | ĞĞ¿Ğ¸Ñ |
|-------|----------|------|------|
| POST | `/auth` | âŒ | { username, password, displayName? } â†’ { token, refreshToken, user } |
| POST | `/refresh` | âŒ | { refreshToken } â†’ { token } |
| POST | `/upload` | âœ… | Ñ„Ğ¾Ñ‚Ğ¾ â†’ { url } |
| POST | `/upload-audio` | âœ… | Ğ°ÑƒĞ´Ñ–Ğ¾ â†’ { url } |
| POST | `/upload-file` | âœ… | Ñ„Ğ°Ğ¹Ğ» â†’ { url, fileName, fileSize } âœ… NEW |
| GET | `/search_users` | âœ… | `?q=&myUsername=` â†’ users[] |
| POST | `/get_or_create_dm` | âœ… | â†’ chat |
| GET | `/get_user_chats` | âœ… | `?username=` â†’ chats[] (Windows) |
| POST | `/update_profile` | âœ… | displayName, phone, birthday, onlineVisible... |
| GET | `/accounts_by_phone` | âŒ | `?phone=` â†’ accounts[] |
| GET | `/ping` | âŒ | health check |

---

## ğŸ—„ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Firestore

```
users/{username}
  â”œâ”€â”€ username, displayName, avatarUrl, passwordHash
  â”œâ”€â”€ phone, birthday, birthdayVisible, onlineVisible
  â””â”€â”€ createdAt

chats/{chatId}
  â”œâ”€â”€ type: "dm"
  â”œâ”€â”€ participants: string[]
  â”œâ”€â”€ participantNames: Map
  â”œâ”€â”€ lastMessage: { text, sender, timestamp, read }
  â””â”€â”€ unreadCounts: { username1: 0, username2: 3 }  âœ… NEW

chats/{chatId}/messages/{messageId}
  â”œâ”€â”€ text, sender, type, timestamp
  â”œâ”€â”€ status: "sent"|"delivered"|"read"
  â”œâ”€â”€ read, edited, editedAt
  â”œâ”€â”€ replyTo: { id, text, sender }?
  â”œâ”€â”€ reactions: { "â¤ï¸": ["user1"] }?
  â”œâ”€â”€ audioUrl, audioDuration?
  â”œâ”€â”€ imageUrl?
  â””â”€â”€ fileUrl, fileName, fileSize?  âœ… NEW

fcm_tokens/{token}
  â”œâ”€â”€ username, updatedAt
```

---

## ğŸ”Œ Socket.IO API

### ĞšĞ»Ñ–Ñ”Ğ½Ñ‚ â†’ Ğ¡ĞµÑ€Ğ²ĞµÑ€
| ĞŸĞ¾Ğ´Ñ–Ñ | Ğ”Ğ°Ğ½Ñ– |
|-------|------|
| `join_chat` | chatId |
| `send_message` | { chatId, text, type, fileUrl?, fileName?, fileSize?, ... } |
| `mark_read` | { chatId, readerUsername } |
| `delete_message` | { messageId, chatId } |
| `edit_message` | { messageId, newText, chatId } |
| `add_reaction` | { messageId, emoji, chatId } |
| `typing` | { chatId } |
| `register_token` | { token } |
| `request_history` | chatId |
| `request_history_more` | { chatId, before: timestamp } âœ… NEW |

### Ğ¡ĞµÑ€Ğ²ĞµÑ€ â†’ ĞšĞ»Ñ–Ñ”Ğ½Ñ‚
| ĞŸĞ¾Ğ´Ñ–Ñ | Ğ”Ğ°Ğ½Ñ– |
|-------|------|
| `receive_message` | messageData |
| `message_status_update` | { messageId, status } |
| `load_history` | message[] |
| `load_history_more` | message[] âœ… NEW |
| `message_deleted` | messageId |
| `message_edited` | { messageId, newText } |
| `reaction_updated` | { messageId, reactions } |
| `display_typing` | { username, chatId } |

---

## ğŸ“‹ Changelog

### v2.9.7 â€” Ğ›ÑÑ‚Ğ¸Ğ¹ 2026 â€” ğŸ“ Ğ¤Ğ°Ğ¹Ğ»Ğ¸ + ğŸ“œ ĞŸĞ°Ğ³Ñ–Ğ½Ğ°Ñ†Ñ–Ñ + ğŸ”´ Badge
- **Ğ›Ñ–Ñ‡Ğ¸Ğ»ÑŒĞ½Ğ¸Ğº Ğ½ĞµĞ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ½Ğ¸Ñ…** â€” Badge Ğ½Ğ° Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ñ– Ñ‡Ğ°Ñ‚Ñƒ, Firestore unreadCounts
- **ĞŸĞ°Ğ³Ñ–Ğ½Ğ°Ñ†Ñ–Ñ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ** â€” infinite scroll, startAfterDocument, request_history_more
- **ĞŸĞµÑ€ĞµĞ´Ğ°Ñ‡Ğ° Ñ„Ğ°Ğ¹Ğ»Ñ–Ğ²** â€” POST /upload-file, FileBubble, Signal-style Ğ¼ĞµĞ½Ñ Ğ’Ñ–Ğ´ĞºÑ€Ğ¸Ñ‚Ğ¸/Ğ—Ğ±ĞµÑ€ĞµĞ³Ñ‚Ğ¸
- **ĞšĞ¸Ñ€Ğ¸Ğ»Ğ¸Ñ†Ñ Ğ² Ğ½Ğ°Ğ·Ğ²Ğ°Ñ… Ñ„Ğ°Ğ¹Ğ»Ñ–Ğ²** â€” UTF-8 Ğ´ĞµĞºĞ¾Ğ´ÑƒĞ²Ğ°Ğ½Ğ½Ñ (latin1â†’utf8)
- **device_info_plus** â€” Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ° Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° Ğ´Ğ¾Ğ·Ğ²Ğ¾Ğ»Ñ–Ğ² Android Ğ¿Ğ¾ Ğ²ĞµÑ€ÑÑ–Ñ— SDK

### v2.6.8 â€” Ğ›ÑÑ‚Ğ¸Ğ¹ 2026 â€” âœ“âœ“ Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑĞ¸ (real-time Ñ„Ñ–ĞºÑ)
- mark_read Ğ¿Ñ€Ğ¸ receive_message, delivered check Ğ²ÑÑ–Ñ… ÑĞ¾ĞºĞµÑ‚Ñ–Ğ²
- _messageStatuses cache Ğ´Ğ»Ñ Ğ¼Ğ¸Ñ‚Ñ‚Ñ”Ğ²Ğ¾Ğ³Ğ¾ UI Ğ¾Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ

### v2.6.0 â€” Ğ›ÑÑ‚Ğ¸Ğ¹ 2026 â€” ğŸ‘¤ ĞŸÑ€Ğ¾Ñ„Ñ–Ğ»ÑŒ + Auth UX
- DisplayName vs Username, AccountTab, Login/Register TabBar

### v2.4.3 â€” Ğ›ÑÑ‚Ğ¸Ğ¹ 2026 â€” ğŸ”’ Ğ¤Ğ°Ğ·Ğ° 1: Ğ‘ĞµĞ·Ğ¿ĞµĞºĞ°
- JWT, bcrypt, Socket.IO auth, rate limiting, Helmet, Joi

### v2.3.5 â€” Ğ›ÑÑ‚Ğ¸Ğ¹ 2026
- Push-Ñ„Ñ–Ğ»ÑŒÑ‚Ñ€, Ñ€ĞµÑ„Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ main.dart â†’ widgets/

---

## ğŸ—º Ğ Ğ¾Ğ°Ğ´Ğ¼Ğ°Ğ¿

| Ğ¤Ğ°Ğ·Ğ° | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ | Ğ—Ğ°Ğ´Ğ°Ñ‡Ñ– |
|------|--------|--------|
| ğŸ”’ **Ğ¤Ğ°Ğ·Ğ° 1** â€” Ğ‘ĞµĞ·Ğ¿ĞµĞºĞ° | âœ… **Ğ’Ğ˜ĞšĞĞĞĞĞ** | JWT, bcrypt, rate-limit, Socket auth |
| ğŸ‘¤ **ĞŸÑ€Ğ¾Ñ„Ñ–Ğ»ÑŒ** | âœ… **Ğ’Ğ˜ĞšĞĞĞĞĞ** | AccountTab, displayName, phone, birthday |
| âœ“âœ“ **Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑĞ¸** | âœ… **Ğ’Ğ˜ĞšĞĞĞĞĞ** | sent/delivered/read, real-time, Signal-style |
| ğŸ”´ **Ğ›Ñ–Ñ‡Ğ¸Ğ»ÑŒĞ½Ğ¸Ğº Ğ½ĞµĞ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ½Ğ¸Ñ…** | âœ… **Ğ’Ğ˜ĞšĞĞĞĞĞ** | Badge Ğ½Ğ° Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ñ–, unreadCounts Firestore |
| ğŸ“œ **ĞŸĞ°Ğ³Ñ–Ğ½Ğ°Ñ†Ñ–Ñ** | âœ… **Ğ’Ğ˜ĞšĞĞĞĞĞ** | Infinite scroll, startAfterDocument |
| ğŸ“ **Ğ¤Ğ°Ğ¹Ğ»Ğ¸** | âœ… **Ğ’Ğ˜ĞšĞĞĞĞĞ** | PDF/DOCX/ZIP, FileBubble, Ğ’Ñ–Ğ´ĞºÑ€Ğ¸Ñ‚Ğ¸/Ğ—Ğ±ĞµÑ€ĞµĞ³Ñ‚Ğ¸ |
| ğŸ‘¥ **Ğ“Ñ€ÑƒĞ¿Ğ¾Ğ²Ñ– Ñ‡Ğ°Ñ‚Ğ¸** | ğŸ”œ **ĞĞĞ¡Ğ¢Ğ£ĞŸĞĞ˜Ğ™** | Ğ“Ñ€ÑƒĞ¿Ğ¸, Ğ°Ğ´Ğ¼Ñ–Ğ½Ğ¸, GroupInfoScreen |
| ğŸ“¹ **WebRTC** | ğŸ”œ | Ğ’Ñ–Ğ´ĞµĞ¾/Ğ°ÑƒĞ´Ñ–Ğ¾ Ğ´Ğ·Ğ²Ñ–Ğ½ĞºĞ¸ |
| ğŸ‘¥ **Ğ¤Ğ°Ğ·Ğ° 3** â€” Ğ¡Ğ¾Ñ†Ñ–Ğ°Ğ»ÑŒĞ½Ñ– | ğŸ“… | ĞŸÑ€Ğ¾Ñ„Ñ–Ğ»Ñ–, Ğ¡Ñ‚Ğ¾Ñ€Ñ–Ğ· |
| ğŸš€ **Ğ¤Ğ°Ğ·Ğ° 4** â€” DevOps | ğŸ“… | Redis, CI/CD, Ñ‚ĞµÑÑ‚Ğ¸, Sentry |
| ğŸ” **Ğ¤Ğ°Ğ·Ğ° 5** â€” E2EE | ğŸ“… | Ğ¨Ğ¸Ñ„Ñ€ÑƒĞ²Ğ°Ğ½Ğ½Ñ, Ğ¼Ğ¾Ğ½ĞµÑ‚Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ |

---

## ğŸ“„ Ğ›Ñ–Ñ†ĞµĞ½Ğ·Ñ–Ñ

MIT License

---

<p align="center">
  Ğ—Ñ€Ğ¾Ğ±Ğ»ĞµĞ½Ğ¾ Ğ· â¤ï¸ Ğ½Ğ° Flutter + Node.js
</p>